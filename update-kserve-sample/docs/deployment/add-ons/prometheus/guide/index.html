<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.93.0" />
<meta name="robots" content="index, follow">

<script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "WebSite",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "https:\/\/ryansteakley.github.io\/kubeflow-manifests\/update-kserve-sample"
      },
      "articleSection" : "docs",
      "name" : "Prometheus",
      "headline" : "Prometheus",
      "description" : "Use Prometheus, Amazon Managed Service for Prometheus, and Amazon Managed Grafana to monitor metrics with Kubeflow on AWS",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "0001",
      "datePublished": "0001-01-01 00:00:00 \u002b0000 UTC",
      "dateModified" : "0001-01-01 00:00:00 \u002b0000 UTC",
      "url" : "https:\/\/ryansteakley.github.io\/kubeflow-manifests\/update-kserve-sample\/docs\/deployment\/add-ons\/prometheus\/guide\/",
      "wordCount" : "485",
      "keywords" : [ "Kubeflow" ]
  }
  </script>

<link rel="shortcut icon" href="/kubeflow-manifests/update-kserve-sample/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/kubeflow-manifests/update-kserve-sample/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/kubeflow-manifests/update-kserve-sample/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/kubeflow-manifests/update-kserve-sample/favicons/favicon-32x32.png" sizes="32x32">
<link rel="manifest" href="/kubeflow-manifests/update-kserve-sample/favicons/manifest.json">
<meta name="msapplication-config" content="/kubeflow-manifests/update-kserve-sample/favicons/browserconfig.xml" />
<meta name="msapplication-TileColor" content="#4279f4">
<meta name="theme-color" content="#4279f4">

<title>Prometheus | Kubeflow on AWS</title>
<meta name="description" content="Use Prometheus, Amazon Managed Service for Prometheus, and Amazon Managed Grafana to monitor metrics with Kubeflow on AWS">
<meta property="og:title" content="Prometheus" />
<meta property="og:description" content="Use Prometheus, Amazon Managed Service for Prometheus, and Amazon Managed Grafana to monitor metrics with Kubeflow on AWS" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ryansteakley.github.io/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/prometheus/guide/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2022-08-26T15:53:10-07:00" /><meta property="og:site_name" content="Kubeflow on AWS" />

<meta itemprop="name" content="Prometheus">
<meta itemprop="description" content="Use Prometheus, Amazon Managed Service for Prometheus, and Amazon Managed Grafana to monitor metrics with Kubeflow on AWS">
<meta itemprop="dateModified" content="2022-08-26T15:53:10-07:00" />
<meta itemprop="wordCount" content="485">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Prometheus"/>
<meta name="twitter:description" content="Use Prometheus, Amazon Managed Service for Prometheus, and Amazon Managed Grafana to monitor metrics with Kubeflow on AWS"/>




<link rel="preload" href="/kubeflow-manifests/update-kserve-sample/scss/main.min.aaceb816a36445103bbac4366a50b9ace964e875d4fad1f72a147d79306e7865.css" as="style">
<link href="/kubeflow-manifests/update-kserve-sample/scss/main.min.aaceb816a36445103bbac4366a50b9ace964e875d4fad1f72a147d79306e7865.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

    
    <link href="/kubeflow-manifests/update-kserve-sample/css/syntax.min.css" rel="stylesheet">

    
    <link href="/kubeflow-manifests/update-kserve-sample/css/copy-code-button.min.css" rel="stylesheet">


  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand-md navbar-dark  td-navbar">
        <a class="navbar-brand" href="/kubeflow-manifests/update-kserve-sample/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">Kubeflow on AWS</span>
	</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_navbar" aria-controls="main_navbar" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse ml-md-auto" id="main_navbar">
		<ul class="navbar-nav ml-auto pt-4 pt-md-0 my-2 my-md-1">
			
			
			<li class="nav-item mr-2 mr-lg-4 mt-1 mt-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/kubeflow-manifests/update-kserve-sample/docs/" ><i class='fas fa-book pr-2'></i><span>Documentation</span></a>
			</li>
			
			<li class="nav-item mr-2 mr-lg-4 mt-1 mt-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://github.com/awslabs/kubeflow-manifests" target="_blank" ><i class='fab fa-github pr-2'></i><span>GitHub</span></a>
			</li>
			
			
			<li class="nav-item dropdown mt-1 mt-lg-0 mr-2">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Releases
</a>
<div class="dropdown-menu dropdown-menu-md-right dropdown-menu-lg-left" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="https://awslabs.github.io/kubeflow-manifests/docs">latest</a>
	
	<a class="dropdown-item" href="https://awslabs.github.io/kubeflow-manifests/release-v1.5.1-aws-b1.0.1/docs">v1.5</a>
	
	<a class="dropdown-item" href="https://awslabs.github.io/kubeflow-manifests/release-v1.4.1-aws-b1.0.0/docs">v1.4</a>
	
	<a class="dropdown-item" href="https://awslabs.github.io/kubeflow-manifests/main/docs">dev</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav foldable-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-kubeflow-manifestsupdate-kserve-sampledocs-li">
  <a href="/kubeflow-manifests/update-kserve-sample/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-kubeflow-manifestsupdate-kserve-sampledocs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsabout-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsabout-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsabout-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/about/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-kubeflow-manifestsupdate-kserve-sampledocsabout"><span class="">About</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutfeatures-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutfeatures-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsaboutfeatures-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/about/features/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutfeatures"><span class="">AWS Features for Kubeflow</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutreleases-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutreleases-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsaboutreleases-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/about/releases/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutreleases"><span class="">Releases and Versioning</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsabouteks-compatibility-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsabouteks-compatibility-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsabouteks-compatibility-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/about/eks-compatibility/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsabouteks-compatibility"><span class="">Amazon EKS and Kubeflow Compatibility</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutsecurity-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutsecurity-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsaboutsecurity-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/about/security/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutsecurity"><span class="">Security</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutusage-tracking-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutusage-tracking-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsaboutusage-tracking-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/about/usage-tracking/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsaboutusage-tracking"><span class="">Usage Tracking</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeployment-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeployment-check" checked/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeployment-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeployment"><span class="">Deployment</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentprerequisites-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentprerequisites-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentprerequisites-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/prerequisites/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentprerequisites"><span class="">Prerequisites</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentvanillaguide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentvanillaguide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentvanillaguide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/vanilla/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentvanillaguide"><span class="">Vanilla Installation</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentrds-s3guide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentrds-s3guide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentrds-s3guide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/rds-s3/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentrds-s3guide"><span class="">RDS and S3</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/cognito/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito"><span class="">Cognito</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide-automated-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide-automated-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide-automated-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/cognito/guide-automated/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide-automated"><span class="">Automated Deployment Guide</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/cognito/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognitoguide"><span class="">Manual Deployment Guide</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito-rds-s3guide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito-rds-s3guide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito-rds-s3guide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/cognito-rds-s3/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentcognito-rds-s3guide"><span class="">Cognito, RDS, and S3</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-ons-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-ons-check" checked/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-ons-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-ons"><span class="">Add-ons</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsload-balancerguide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsload-balancerguide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsload-balancerguide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/load-balancer/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsload-balancerguide"><span class="">Load Balancer</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsprometheusguide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsprometheusguide-check" checked/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsprometheusguide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/prometheus/guide/" class="align-left pl-0  active td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsprometheusguide"><span class="td-sidebar-nav-active-item">Prometheus</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstorageefsguide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstorageefsguide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstorageefsguide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/storage/efs/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstorageefsguide"><span class="">EFS</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstoragefsx-for-lustreguide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstoragefsx-for-lustreguide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstoragefsx-for-lustreguide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/storage/fsx-for-lustre/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onsstoragefsx-for-lustreguide"><span class="">FSx for Lustre</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onscloudwatchguide-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onscloudwatchguide-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onscloudwatchguide-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/cloudwatch/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentadd-onscloudwatchguide"><span class="">CloudWatch</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentuninstall-kubeflow-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentuninstall-kubeflow-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentuninstall-kubeflow-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/deployment/uninstall-kubeflow/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocsdeploymentuninstall-kubeflow"><span class="">Uninstall Kubeflow</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guides-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guides-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guides-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/component-guides/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guides"><span class="">Component Guides</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesnotebooks-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesnotebooks-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesnotebooks-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/component-guides/notebooks/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesnotebooks"><span class="">Notebooks</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskatib-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskatib-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskatib-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/component-guides/katib/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskatib"><span class="">Katib</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidespipelines-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidespipelines-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidespipelines-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/component-guides/pipelines/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidespipelines"><span class="">Pipelines</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskserve-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskserve-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskserve-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/component-guides/kserve/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guideskserve"><span class="">KServe</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesprofiles-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesprofiles-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesprofiles-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/component-guides/profiles/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocscomponent-guidesprofiles"><span class="">Profiles</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-kubeflow-manifestsupdate-kserve-sampledocstroubleshooting-aws-li">
  <input type="checkbox" id="m-kubeflow-manifestsupdate-kserve-sampledocstroubleshooting-aws-check"/>
  <label for="m-kubeflow-manifestsupdate-kserve-sampledocstroubleshooting-aws-check"><a href="/kubeflow-manifests/update-kserve-sample/docs/troubleshooting-aws/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-kubeflow-manifestsupdate-kserve-sampledocstroubleshooting-aws"><span class="">Troubleshooting</span></a></label>
  
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/awslabs/kubeflow-manifests//tree/main/website/content/en/docs/deployment/add-ons/prometheus/guide.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa fa-file-alt fa-fw"></i> View page source</a>
  <a href="https://github.com/awslabs/kubeflow-manifests//edit/main/website/content/en/docs/deployment/add-ons/prometheus/guide.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
  <a href="https://github.com/awslabs/kubeflow-manifests//new/main/website/content/en/docs/deployment/add-ons/prometheus/guide.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Create child page</a>
  <a href="https://github.com/awslabs/kubeflow-manifests//issues/new?title=Prometheus" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/awslabs/kubeflow-manifests/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
  
</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#why-you-should-use-prometheus-with-amazon-managed-service-for-prometheus-amp-and-amazon-managed-grafana-amg">Why you should use Prometheus with Amazon Managed Service for Prometheus (AMP) and Amazon Managed Grafana (AMG)</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#steps-to-setup-prometheus-and-amp">Steps to Setup Prometheus and AMP</a></li>
    <li><a href="#steps-to-verify-prometheus-and-amp-are-connected">Steps to Verify Prometheus and AMP are Connected</a></li>
    <li><a href="#steps-to-setup-amg">Steps to Setup AMG</a></li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://ryansteakley.github.io/kubeflow-manifests/update-kserve-sample/docs/">Documentation</a>
  </li>
  <li class="breadcrumb-item">
    <a href="https://ryansteakley.github.io/kubeflow-manifests/update-kserve-sample/docs/deployment/">Deployment</a>
  </li>
  <li class="breadcrumb-item">
    <a href="https://ryansteakley.github.io/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/">Add-ons</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="https://ryansteakley.github.io/kubeflow-manifests/update-kserve-sample/docs/deployment/add-ons/prometheus/guide/">Prometheus</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Prometheus</h1>
	<div class="lead">Use Prometheus, Amazon Managed Service for Prometheus, and Amazon Managed Grafana to monitor metrics with Kubeflow on AWS</div>
	<header class="article-meta">
		

  
    


  
    


  

		
	</header>    
	<p>This guide shows how to setup a Prometheus server, an AMP workspace, and an AMG workspace on top of Kubeflow on AWS. It also explains to validate the ingestion of data from Prometheus to AMP.</p>
<h2 id="why-you-should-use-prometheus-with-amazon-managed-service-for-prometheus-amp-and-amazon-managed-grafana-amg">Why you should use Prometheus with Amazon Managed Service for Prometheus (AMP) and Amazon Managed Grafana (AMG)</h2>
<p>Many Kubeflow users utilize Prometheus and Grafana to monitor and visualize their metrics. However it can be difficult to scale open source Prometheus and Grafana as the number of nodes to be monitored increases. AMP seeks to simplify this issue by allowing multiple Prometheus servers to aggregate their metrics in Amazon Managed Prometheus, and finally Amazon Managed Grafana allows customers to then view these aggregated metrics.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Download one of our deployment options by following the directions at: <a href="https://awslabs.github.io/kubeflow-manifests/docs/deployment/">https://awslabs.github.io/kubeflow-manifests/docs/deployment/</a></p>
<p><strong>Note:</strong> The steps below will assume you are sitting in the kubeflow-manifests directory.</p>
<h2 id="steps-to-setup-prometheus-and-amp">Steps to Setup Prometheus and AMP</h2>
<ol>
<li>Export cluster name and region as environment variables:
<ol>
<li>Make sure to replace the following in the below commands:
<ul>
<li><strong>&lt;your-cluster-name&gt;</strong></li>
<li><strong>&lt;your-cluster-region&gt;</strong></li>
</ul>
</li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CLUSTER_NAME</span><span class="o">=</span>&lt;your-cluster-name&gt;
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CLUSTER_REGION</span><span class="o">=</span>&lt;your-cluster-region&gt;
</span></span></code></pre></div></li>
</ol>
</li>
<li>Create an IAM Policy:
<ol>
<li>Make sure to replace the following in the below command:
<ul>
<li><strong>&lt;desired-amp-policy-name&gt;</strong> - a policy name of your choosing</li>
</ul>
</li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AMP_POLICY_NAME</span><span class="o">=</span>&lt;desired-amp-policy-name&gt;
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AMP_POLICY_ARN</span><span class="o">=</span><span class="k">$(</span>aws iam create-policy --policy-name <span class="nv">$AMP_POLICY_NAME</span> --policy-document file://deployments/add-ons/prometheus/AMPIngestPermissionPolicy.json --query <span class="s1">&#39;Policy.Arn&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;&#34;&#39;</span><span class="k">)</span>
</span></span></code></pre></div></li>
</ol>
</li>
<li>Create a Service Account:
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">eksctl create iamserviceaccount --name amp-iamproxy-ingest-service-account --namespace monitoring --cluster <span class="nv">$CLUSTER_NAME</span> --attach-policy-arn <span class="nv">$AMP_POLICY_ARN</span> --override-existing-serviceaccounts --approve --region <span class="nv">$CLUSTER_REGION</span>
</span></span></code></pre></div></li>
</ol>
</li>
<li>Create an AMP Workspace:
<ol>
<li>Make sure to replace the following in the below command:
<ul>
<li><strong>&lt;desired-workspace-alias&gt;</strong> - a workspace alias of your choosing</li>
</ul>
</li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AMP_WORKSPACE_ALIAS</span><span class="o">=</span>&lt;desired-amp-workspace-alias&gt;
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AMP_WORKSPACE_ARN</span><span class="o">=</span><span class="k">$(</span>aws amp create-workspace --region <span class="nv">$CLUSTER_REGION</span> --alias <span class="nv">$AMP_WORKSPACE_ALIAS</span> --query arn <span class="p">|</span> tr -d <span class="s1">&#39;&#34;&#39;</span><span class="k">)</span>
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AMP_WORKSPACE_REGION</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$AMP_WORKSPACE_ARN</span> <span class="p">|</span> cut -d<span class="s1">&#39;:&#39;</span> -f4<span class="k">)</span>
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">AMP_WORKSPACE_ID</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$AMP_WORKSPACE_ARN</span> <span class="p">|</span> cut -d<span class="s1">&#39;:&#39;</span> -f6 <span class="p">|</span> cut -d<span class="s1">&#39;/&#39;</span> -f2<span class="k">)</span>
</span></span></code></pre></div></li>
</ol>
</li>
<li>Update deployments/add-ons/prometheus/params.env with your workspace id and region:
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; deployments/add-ons/prometheus/params.env <span class="s">&lt;&lt;EOF
</span></span></span><span class="line"><span class="cl"><span class="s">workspaceRegion=$AMP_WORKSPACE_REGION
</span></span></span><span class="line"><span class="cl"><span class="s">workspaceId=$AMP_WORKSPACE_ID
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></div></li>
</ol>
</li>
<li>Run the kustomize build command to build your prometheus resources:
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">kustomize build deployments/add-ons/prometheus <span class="p">|</span> kubectl apply -f -
</span></span></code></pre></div></li>
</ol>
</li>
</ol>
<h2 id="steps-to-verify-prometheus-and-amp-are-connected">Steps to Verify Prometheus and AMP are Connected</h2>
<ol>
<li>Make sure you have awscurl installed:
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip3 install awscurl
</span></span></code></pre></div></li>
</ol>
</li>
<li>Start port-forwarding for the prometheus pod:
<ol>
<li>Make sure to replace the following in the below command:
<ul>
<li><strong>&lt;desired-local-port&gt;</strong> - a workspace alias of your choosing</li>
</ul>
</li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LOCAL_PROMETHEUS_PORT</span><span class="o">=</span>&lt;desired-local-port&gt;
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">kubectl port-forward <span class="k">$(</span>kubectl get pods --namespace<span class="o">=</span>monitoring <span class="p">|</span> grep <span class="s2">&#34;prometheus-deployment&#34;</span> <span class="p">|</span> cut -d<span class="s1">&#39; &#39;</span> -f1<span class="k">)</span> <span class="nv">$LOCAL_PROMETHEUS_PORT</span>:9090 --namespace<span class="o">=</span>monitoring <span class="p">&amp;</span>
</span></span></code></pre></div></li>
</ol>
</li>
<li>Make sure your credentials are in ~/.aws/credentials:
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">aws configure
</span></span></code></pre></div></li>
</ol>
</li>
<li>Run the below command to verify the KFP create experiment count metric is being correctly exported to AMP:
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">(</span><span class="nb">cd</span> tests<span class="p">;</span> python3 -c <span class="s2">&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">import e2e.utils.prometheus.setup_prometheus_server as setup_prometheus_server
</span></span></span><span class="line"><span class="cl"><span class="s2">setup_prometheus_server.local_prometheus_port = &#39;</span><span class="nv">$LOCAL_PROMETHEUS_PORT</span><span class="s2">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s2">setup_prometheus_server.check_AMP_connects_to_prometheus(
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#39;</span><span class="nv">$CLUSTER_REGION</span><span class="s2">&#39;,
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#39;</span><span class="nv">$AMP_WORKSPACE_ID</span><span class="s2">&#39;,
</span></span></span><span class="line"><span class="cl"><span class="s2">    expected_value=0)
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;</span><span class="o">)</span>
</span></span></code></pre></div></li>
<li>If all is working, this should not trigger an assertion error.</li>
</ol>
</li>
<li>Get the PID and kill the port-forwarding process:
<ol>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PORT_FORWARDING_PROCESS</span><span class="o">=</span><span class="k">$(</span>lsof -i :<span class="nv">$LOCAL_PROMETHEUS_PORT</span> <span class="p">|</span> sed -n 2p <span class="p">|</span> cut -d<span class="s1">&#39; &#39;</span> -f2<span class="k">)</span>
</span></span></code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">kill</span> <span class="nv">$PORT_FORWARDING_PROCESS</span>
</span></span></code></pre></div></li>
</ol>
</li>
</ol>
<h2 id="steps-to-setup-amg">Steps to Setup AMG</h2>
<ol>
<li><a href="https://docs.aws.amazon.com/grafana/latest/userguide/getting-started-with-AMG.html">Create an Amazon Managed Grafana Workspace.</a></li>
<li><a href="https://docs.aws.amazon.com/grafana/latest/userguide/AMP-adding-AWS-config.html">Add AMP as a data source.</a></li>
<li><a href="https://docs.aws.amazon.com/grafana/latest/userguide/getting-started-grafanaui.html">Create a dashboard to visualize metrics from your AMP data source.</a></li>
</ol>

	
	
	<div class="text-muted mt-5 pt-3 border-top">
  Last modified August 26, 2022: <a href="https://github.com/awslabs/kubeflow-manifests//commit/5ba5960d3c0c9bb71ca6bfdbaf129dd7f620d16d">update kserve with v1 sample as v2-sample is bugged (5ba5960)</a>
</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark pt-3 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 The Kubeflow on AWS Authors.</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/kubeflow-manifests/update-kserve-sample/js/tabpane-persist.js'></script>


















<script src="/kubeflow-manifests/update-kserve-sample/js/main.min.f89e68cd31cd9406f0a1754e81f11a3c5f8eb741a5ad604ec4349bd07af7628b.js" integrity="sha256-&#43;J5ozTHNlAbwoXVOgfEaPF&#43;Ot0GlrWBOxDSb0Hr3Yos=" crossorigin="anonymous"></script>




<script src="/kubeflow-manifests/update-kserve-sample/js/copy-code-button.min.js"></script>




  </body>
</html>